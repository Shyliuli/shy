## **Shy_C语言定义文档**
### **0.why？**
考虑到手写汇编还是太现代化了，于是考虑让shycc能编译高级语言到shy语言。这是目前考虑实现的一个高级语言。
### **1. 概述**

本语言是一个基于简化C语言设计的编程环境，支持无符号16位整数（`uint16`）、数组（包括字符串）以及基本的运算符、控制流结构和内置函数。它去掉了分号 `;` 的强制使用，语句通过换行或块 `{}` 自然分隔。

---

### **2. 词法规范**

#### **2.1 标识符**
- 标识符由字母（`a-z`, `A-Z`）、数字（`0-9`）和下划线（`_`）组成。
- 必须以字母或下划线开头。
- 示例：
  ```c
  valid_identifier
  _temp_var
  ```

#### **2.2 关键字**
以下为保留关键字，不能用作标识符：
- `func`
- `if`
- `else`
- `while`
- `return`

#### **2.3 常量**
- 数字常量：十进制非负整数（范围为 `0` 到 `65535`）。
- 字符常量：单个字符，用单引号括起来（如 `'a'`）。
- 字符串常量：多个字符，用双引号括起来（如 `"ab"`）。
- 示例：
  ```c
  42
  'a'
  "ab"
  ```

#### **2.4 分隔符**
- 大括号 `{}`：用于分组语句。
- 圆括号 `()`：用于函数调用和表达式分组。
- 方括号 `[]`：用于数组索引。

#### **2.5 运算符**
- 算术运算符：`+`, `-`, `*`, `/`, `%`
- 位运算符：`&`, `|`, `^`, `~`, `<<`, `>>`
- 比较运算符：`==`, `!=`, `<`, `>`, `<=`, `>=`
- 逻辑运算符：`&&`, `||`, `!`（不支持短路逻辑）
- 赋值运算符：`=`

---

### **3. 语法规则**

#### **3.1 变量声明与赋值**
- 所有变量必须在使用前声明，默认类型为 `uint16`。
- 支持数组声明，数组元素可以是数字或字符。
- 示例：
  ```c
  a = 10                // 单个变量
  b[5] = {1, 2, 3, 4, 5}  // 数组初始化
  c[2] = {'a', 'b'}     // 字符数组
  d[2] = "ab"           // 字符串初始化
  e = 'a'               // 单个字符
  ```

#### **3.2 函数声明**
- 使用 `func` 关键字声明函数。
- 函数返回值类型隐式为 `uint16`。
- 参数列表中的参数无需类型声明。
- 示例：
  ```c
  func add(a, b) {
      return a + b
  }
  ```

#### **3.3 表达式**
- 支持以下类型的表达式：
  - 算术表达式：`a + b`, `x * y`
  - 位运算表达式：`a & b`, `x << 2`
  - 比较表达式：`a == b`, `x > 10`
  - 逻辑表达式：`a && b`, `!(x == 0)`
- 不支持短路逻辑，所有逻辑运算符都会完整求值。
- 示例：
  ```c
  c = (a + b) * (x - y)
  flag = (a > 10) && (b < 20)  // 不支持短路
  ```

#### **3.4 控制流**
- **条件分支**：
  ```c
  if (condition) {
      statements
  } else {
      statements
  }
  ```
- **循环**：
  ```c
  while (condition) {
      statements
  }
  ```
- 示例：
  ```c
  if (x > 10) {
      y = x + 5
  } else {
      y = x - 5
  }

  while (x > 0) {
      x = x - 1
  }
  ```

#### **3.5 返回语句**
- 使用 `return` 语句从函数中返回值。
- 示例：
  ```c
  func factorial(n) {
      if (n == 0) {
          return 1
      } else {
          return n * factorial(n - 1)
      }
  }
  ```

---

### **4. 内置函数**

#### **4.1 输入输出函数**
- `printf_num(arg)`：按数字输出单个 `uint16`。
- `printf_ascii(arg)`：按ASCII字符输出单个 `uint16`。
- `scanf_num()`：读取一个数字输入，返回 `uint16`。
- `scanf_ascii()`：读取一个ASCII字符输入，返回 `uint16`。
- 示例：
  ```c
  printf_num(42)          // 输出数字42
  printf_ascii('A')       // 输出字符'A'
  num = scanf_num()       // 读取用户输入的数字
  ch = scanf_ascii()      // 读取用户输入的ASCII字符
  ```

---

### **5. 示例程序**

以下是一个完整的示例程序，展示了如何声明数组并用字符串赋值，然后在 `main` 中通过 `while` 循环和 `printf_ascii` 输出内容：

```c
// 全局变量
message[12] = "Hello World"

// 主函数
func main() {
    i = 0
    length = 12

    while (i < length) {
        ch = message[i]
        printf_ascii(ch)
        i = i + 1
    }
}
```

---
